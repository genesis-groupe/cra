/*! =========================================================
 * bootstrap-datepicker.js 
 * Original Idea: http://www.eyecon.ro/bootstrap-datepicker (Copyright 2012 Stefan Petre)
 * Updated by AymKdn (http://kodono.info - https://github.com/Aymkdn/Datepicker-for-Bootstrap)
 * =========================================================
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================= */
!function(c){var a=function(e,d){this.element=c(e);this.format=b.parseFormat(d.format||this.element.data("date-format")||"mm/dd/yyyy");this.picker=c(b.template).appendTo("body").hide().on("mousedown.Datepicker",c.proxy(this.mousedown,this)).on("click.Datepicker",c.proxy(this.click,this));this.isInput=this.element.is("input")||this.element.is("textarea");this.component=this.element.is(".date")?this.element.find(".add-on"):false;if(this.isInput){this.element.on({"focus.Datepicker":c.proxy(this.show,this),"click.Datepicker":c.proxy(this.show,this),"blur.Datepicker":c.proxy(this.blur,this),"keyup.Datepicker":c.proxy(this.update,this),"keydown.Datepicker":c.proxy(this.keydown,this)})
}else{if(this.component){this.component.on("click.Datepicker",c.proxy(this.show,this))}else{this.element.on("click.Datepicker",c.proxy(this.show,this))}}this.viewMode=0;this.weekStart=d.weekStart||this.element.data("date-weekstart")||0;this.scroll=(d.scroll!=undefined?d.scroll:true);this.weekEnd=this.weekStart==0?6:this.weekStart-1;this.fillDow();this.fillMonths();this.update();this.showMode()};a.prototype={constructor:a,show:function(j){c("div.datepicker.dropdown-menu").hide();this.picker.show();this.height=this.component?this.component.outerHeight():this.element.outerHeight();
this.place();c(window).on("resize.Datepicker",c.proxy(this.place,this));c("body").on("click.Datepicker",c.proxy(this.hide,this));if(j){j.stopPropagation();j.preventDefault()}if(!this.isInput){c(document).on("mousedown.Datepicker",c.proxy(this.hide,this))}this.element.trigger({type:"show",date:this.date});var i=this.picker;var h=c(document).scrollTop();var g=c(window).height();var f=i.position().top;var d=i.height();if(this.scroll&&h+g<f+d){c(document).scrollTop(f-d)}},setValue:function(){var d=b.formatDate(this.date,this.format);
if(!this.isInput){if(this.component){this.element.find("input").prop("value",d)}this.element.data("date",d)}else{this.element.prop("value",d)}},place:function(){var d=this.component?this.component.offset():this.element.offset();this.picker.css({top:d.top+this.height,left:d.left})},update:function(){var d=this.element.val();this.date=b.parseDate(d?d:this.element.data("date"),this.format);this.viewDate=new Date(this.date);this.fill()},fillDow:function(){var d=this.weekStart;var e="<tr>";while(d<this.weekStart+7){e+='<th class="dow">'+b.dates.daysMin[(d++)%7]+"</th>"
}e+="</tr>";this.picker.find(".datepicker-days thead").append(e)},fillMonths:function(){var e="";var d=0;while(d<12){e+='<span class="month">'+b.dates.monthsShort[d++]+"</span>"}this.picker.find(".datepicker-months td").append(e)},fill:function(){var o=new Date(this.viewDate),p=o.getFullYear(),n=o.getMonth(),f=this.date.valueOf();this.picker.find(".datepicker-days th:eq(1)").text(b.dates.months[n]+" "+p);var j=new Date(p,n-1,28,0,0,0,0),q=b.getDaysInMonth(j.getFullYear(),j.getMonth());j.setDate(q);j.setDate(q-(j.getDay()-this.weekStart+7)%7);
var l=new Date(j);l.setDate(l.getDate()+42);l=l.valueOf();html=[];var h;while(j.valueOf()<l){if(j.getDay()==this.weekStart){html.push("<tr>")}h="";if(j.getMonth()<n){h+=" old"}else{if(j.getMonth()>n){h+=" new"}}if(j.valueOf()==f){h+=" active"}html.push('<td class="day'+h+'">'+j.getDate()+"</td>");if(j.getDay()==this.weekEnd){html.push("</tr>")}j.setDate(j.getDate()+1)}this.picker.find(".datepicker-days tbody").empty().append(html.join(""));var m=this.date.getFullYear();var e=this.picker.find(".datepicker-months").find("th:eq(1)").text(p).end().find("span").removeClass("active");
if(m==p){e.eq(this.date.getMonth()).addClass("active")}html="";p=parseInt(p/10,10)*10;var g=this.picker.find(".datepicker-years").find("th:eq(1)").text(p+"-"+(p+9)).end().find("td");p-=1;for(var k=-1;k<11;k++){html+='<span class="year'+(k==-1||k==10?" old":"")+(m==p?" active":"")+'">'+p+"</span>";p+=1}g.html(html)},blur:function(d){},hide:function(d){this.picker.hide();c(window).off("resize.Datepicker",this.place);this.viewMode=0;this.showMode();if(!this.isInput){c(document).off("mousedown.Datepicker",this.hide)
}c("body").off("click.Datepicker",c.proxy(this.click,this))},click:function(d){d.stopPropagation();d.preventDefault()},mousedown:function(i){i.stopPropagation();i.preventDefault();var h=c(i.target).closest("span, td, th");if(h.length==1){switch(h[0].nodeName.toLowerCase()){case"th":switch(h[0].className){case"switch":this.showMode(1);break;case"prev":case"next":this.viewDate["set"+b.modes[this.viewMode].navFnc].call(this.viewDate,this.viewDate["get"+b.modes[this.viewMode].navFnc].call(this.viewDate)+b.modes[this.viewMode].navStep*(h[0].className=="prev"?-1:1));
this.fill();break}break;case"span":if(h.is(".month")){var g=h.parent().find("span").index(h);this.viewDate.setMonth(g)}else{var f=parseInt(h.text(),10)||0;this.viewDate.setFullYear(f)}this.showMode(-1);this.fill();break;case"td":if(h.is(".day")){var d=parseInt(h.text(),10)||1;var g=this.viewDate.getMonth();if(h.is(".old")){g-=1}else{if(h.is(".new")){g+=1}}var f=this.viewDate.getFullYear();this.date=new Date(f,g,d,0,0,0,0);this.viewDate=new Date(f,g,d,0,0,0,0);this.fill();this.setValue();this.element.trigger({type:"changeDate",date:this.date});
this.hide()}break}}},keydown:function(f){var d=f.keyCode||f.which;if(d==9){this.hide()}},showMode:function(d){if(d){this.viewMode=Math.max(0,Math.min(2,this.viewMode+d))}this.picker.find(">div").hide().filter(".datepicker-"+b.modes[this.viewMode].clsName).show()},destroy:function(){this.element.removeData("datepicker").off(".Datepicker");this.picker.remove()}};c.fn.datepicker=function(d){return this.each(function(){var g=c(this),f=g.data("datepicker"),e=typeof d=="object"&&d;if(!f){g.data("datepicker",(f=new a(this,c.extend({},c.fn.datepicker.defaults,e))))
}if(typeof d=="string"){f[d]()}})};c.fn.datepicker.defaults={};c.fn.datepicker.Constructor=a;var b={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],dates:{days:["Dimanche","Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi","Dimanche"],daysShort:["Dim","Lun","Mar","Mer","Jeu","Ven","Sam","Dim"],daysMin:["Di","Lu","Ma","Me","Je","Ve","Sa","Di"],months:["Janvier","Février","Mars","Avril","Mai","Juin","Juillet","Août","Septembre","Octobre","Novembre","Décembre"],monthsShort:["Jan","Fév","Mar","Avr","Mai","Jun","Jul","Aoû","Sep","Oct","Nov","Déc"]},isLeapYear:function(d){return(((d%4===0)&&(d%100!==0))||(d%400===0))
},getDaysInMonth:function(d,e){return[31,(b.isLeapYear(d)?29:28),31,30,31,30,31,31,30,31,30,31][e]},parseFormat:function(f){var e=f.match(/[.\/-].*?/),d=f.split(/\W+/);if(!e||!d||d.length==0){throw new Error("Invalid date format.")}return{separator:e,parts:d}},parseDate:function(e,j){var d=new Date();if(!e){e=""}var h=e.split(j.separator),e=new Date(d.getFullYear(),d.getMonth(),d.getDate(),0,0,0),k;if(h.length==j.parts.length){for(var g=0,f=j.parts.length;g<f;g++){k=parseInt(h[g],10)||1;switch(j.parts[g]){case"dd":case"d":e.setDate(k);
break;case"mm":case"m":e.setMonth(k-1);break;case"yy":e.setFullYear(2000+k);break;case"yyyy":e.setFullYear(k);break}}}return e},formatDate:function(d,g){var h={d:d.getDate(),m:d.getMonth()+1,yy:d.getFullYear().toString().substring(2),yyyy:d.getFullYear()};h.dd=(h.d<10?"0":"")+h.d;h.mm=(h.m<10?"0":"")+h.m;var d=[];for(var f=0,e=g.parts.length;f<e;f++){d.push(h[g.parts[f]])}return d.join(g.separator)},headTemplate:'<thead><tr><th class="prev"><i class="icon-arrow-left"/></th><th colspan="5" class="switch"></th><th class="next"><i class="icon-arrow-right"/></th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>'};
b.template='<div class="datepicker dropdown-menu"><div class="datepicker-days"><table class=" table-condensed">'+b.headTemplate+'<tbody></tbody></table></div><div class="datepicker-months"><table class="table-condensed">'+b.headTemplate+b.contTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+b.headTemplate+b.contTemplate+"</table></div></div>"}(window.jQuery);